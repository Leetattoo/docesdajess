


<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Painel Doces da Jess</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Paleta de Cores Baseada no Logo/Cartão */
      :root {
        --cor-principal-rosa: #fecdd3; /* bg-rose-200 */
        --cor-secundaria-rosa: #fda4af; /* bg-rose-300 */
        --cor-destaque-rosa: #f43f5e; /* bg-rose-500 */
        --cor-texto-escuro: #374151; /* text-gray-700 */
        --cor-texto-claro: #ffffff;
        --cor-roxo: #c084fc; /* purple-400 */
        --cor-turquesa: #2dd4bf; /* teal-400 */
        --cor-amarelo-claro: #fef9c3; /* yellow-100 - do cartão */
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background-color: var(--cor-principal-rosa); /* Fundo rosa claro */
        color: var(--cor-texto-escuro);
      }
      .brand-font {
        font-family: 'Pacifico', cursive;
      }
      #logoPreview, #sidebarLogo {
        max-width: 150px;
        max-height: 150px;
        margin: 0 auto 1rem;
        border-radius: 8px;
        object-fit: contain;
        display: block;
      }
      .action-button {
        padding: 0.25rem 0.5rem;
        border-radius: 0.25rem;
        font-size: 0.875rem;
        cursor: pointer;
        margin-right: 0.25rem;
        transition: background-color 0.2s ease;
      }
      .edit-button {
        background-color: var(--cor-turquesa); /* Azul/Turquesa */
        color: var(--cor-texto-claro);
      }
      .edit-button:hover {
        background-color: #14b8a6; /* teal-500 */
      }
      .delete-button {
        background-color: var(--cor-destaque-rosa); /* Vermelho/Rosa forte */
        color: var(--cor-texto-claro);
      }
      .delete-button:hover {
        background-color: #e11d48; /* rose-600 */
      }
      /* Sidebar com gradiente do cartão */
      .sidebar-gradient {
         background: linear-gradient(to bottom, var(--cor-amarelo-claro), var(--cor-principal-rosa));
         color: var(--cor-texto-escuro); /* Texto escuro para contraste */
      }
      .sidebar-button {
         color: var(--cor-texto-escuro);
         transition: background-color 0.2s ease, color 0.2s ease;
      }
      .sidebar-button:hover {
         background-color: var(--cor-secundaria-rosa);
         color: var(--cor-texto-claro);
      }
      .section-header {
          color: var(--cor-destaque-rosa);
          border-bottom: 2px solid var(--cor-secundaria-rosa);
          padding-bottom: 0.5rem;
      }
      .card {
          background-color: var(--cor-texto-claro);
          padding: 1rem;
          border-radius: 0.5rem;
          box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
      }
      thead {
          background-color: var(--cor-secundaria-rosa);
          color: var(--cor-texto-claro);
      }
      /* Ajuste para inputs e selects */
      input[type="text"], input[type="number"], input[type="date"], select {
          border: 1px solid var(--cor-secundaria-rosa);
      }
      button[type="submit"], .primary-button {
          background-color: var(--cor-destaque-rosa);
          color: var(--cor-texto-claro);
          transition: background-color 0.2s ease;
      }
       button[type="submit"]:hover, .primary-button:hover {
           background-color: #e11d48; /* rose-600 */
       }
       .secondary-button {
           background-color: #9ca3af; /* gray-400 */
           color: var(--cor-texto-claro);
           transition: background-color 0.2s ease;
       }
       .secondary-button:hover {
            background-color: #6b7280; /* gray-500 */
       }
    </style>
  </head>
  <body class="bg-pink-50 text-gray-700">
    <div class="flex h-screen">
      <!-- Sidebar -->
      <aside class="w-60 sidebar-gradient flex flex-col p-4 space-y-2 shadow-xl overflow-y-auto">
        <h1 class="text-3xl brand-font text-center mb-2 text-rose-500">Doces da Jess</h1>
        <img id="sidebarLogo" src="data:image/jpeg;base64,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" alt="Logo Doces da Jess" />
        <div class="text-center text-sm mb-4 space-y-1 text-gray-600">
            <p><a href="https://www.instagram.com/docesdajess_sp" target="_blank" class="hover:text-rose-500 transition-colors"><i data-lucide="instagram" class="inline-block w-4 h-4 mr-1"></i> @docesdajess_sp</a></p>
            <p><a href="https://wa.me/5511961510581" target="_blank" class="hover:text-rose-500 transition-colors"><i data-lucide="phone" class="inline-block w-4 h-4 mr-1"></i> (11) 96151-0581</a></p>
        </div>
        <button onclick="showSection('inicio_dashboard')" class="sidebar-button p-2 rounded text-left">Início / Dashboard</button>
        <button onclick="showSection('vendas')" class="sidebar-button p-2 rounded text-left">Vendas</button>
        <button onclick="showSection('produtos')" class="sidebar-button p-2 rounded text-left">Produtos/Cardápio</button>
        <button onclick="showSection('estoque')" class="sidebar-button p-2 rounded text-left">Estoque</button>
        <button onclick="showSection('clientes')" class="sidebar-button p-2 rounded text-left">Clientes</button>
        <button onclick="showSection('relatorios')" class="sidebar-button p-2 rounded text-left">Relatórios</button>
        <button onclick="showSection('graficos_avancados')" class="sidebar-button p-2 rounded text-left">Gráficos e Análises</button>
        <button onclick="showSection('meta')" class="sidebar-button p-2 rounded text-left">Meta Diária</button>
        <!-- Botão Jeh AI com estilo destacado -->
        <button onclick="mostrarJehAI()" class="p-2 rounded text-left mt-4 mb-2 text-white font-bold shadow-lg" style="background: linear-gradient(135deg, var(--cor-destaque-rosa), var(--cor-roxo), var(--cor-turquesa)); border: none; transition: all 0.3s ease;">
          <span class="flex items-center justify-center">
            <i data-lucide="bot" class="inline-block w-5 h-5 mr-2"></i>
            Jeh AI
          </span>
        </button>
        <button onclick="exportarDados()" class="sidebar-button p-2 rounded text-left border border-rose-300">Exportar Dados</button>
        <label class="sidebar-button p-2 rounded text-left border border-rose-300 cursor-pointer">
            Importar Dados
            <input type="file" id="importFile" accept=".json" onchange="importarDados(event)" class="hidden"/>
        </label>
      </aside>

      <!-- Main content -->
      <main class="flex-1 overflow-y-auto p-6">



        <!-- Seção Início / Dashboard -->
        <section id="inicio_dashboard" class="section">
          <h2 class="text-2xl font-bold mb-4 section-header">Informações da Empresa</h2>
          <ul class="space-y-2 mb-6 card">
            <li><strong>Nome Empresarial:</strong> LEANDRO DE OLIVEIRA CONTRERAS</li>
            <li><strong>Nome Fantasia:</strong> Doces da Jess</li>
            <li><strong>CNPJ:</strong> 60.765.939/0001-79</li>
            <li><strong>Capital Social:</strong> R$3.000</li>
            <li><strong>Endereço:</strong> Rua São Vicente, 121 – Bela Vista – São Paulo – SP – CEP 01314-010</li>
            <li><strong>Atividade Principal:</strong> Fabricação de produtos de padaria e confeitaria com produção própria</li>
            <li><strong>Atividades Secundárias:</strong> Salgados, marmitas, lanches, bebidas, doces diversos e revenda</li>
            <li><strong>Contato:</strong> Instagram: <a href="https://www.instagram.com/docesdajess_sp" target="_blank" class="text-rose-500 hover:underline">@docesdajess_sp</a> | WhatsApp: <a href="https://wa.me/5511961510581" target="_blank" class="text-rose-500 hover:underline">(11) 96151-0581</a></li>
          </ul>
          
          <!-- Insights de Análise (movidos da seção Gráficos e Análises) -->
          <h2 class="text-2xl font-bold mb-4 section-header">Análises e Sugestões</h2>
          <div class="card mb-6">
            <div id="analisesSugestoes" class="space-y-2 text-sm">
              <!-- Conteúdo gerado via JS -->
              <p>Carregando análises e sugestões...</p>
            </div>
          </div>
          
          <h2 class="text-2xl font-bold mb-4 section-header">Dashboard Resumo</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
            <div class="card">
                <label for="logoInput" class="block font-semibold mb-1">Logo da Empresa (upload):</label>
                <input type="file" id="logoInput" accept="image/*" class="mb-2"/>
                <img id="logoPreview" src="" alt="Prévia do Logo" class="hidden" />
            </div>
            <div class="card text-lg font-semibold">
                Lucro Total Estimado: R$ <span id="lucroTotal">0.00</span>
            </div>
          </div>
          <div class="card">
            <div class="flex justify-between items-center mb-4">
                <h3 class="font-semibold">Resumo de Vendas</h3>
                <div class="flex items-center space-x-2">
                    <label for="tipoGraficoDashboard" class="text-sm">Tipo de gráfico:</label>
                    <select id="tipoGraficoDashboard" class="p-1 border rounded bg-white text-sm">
                        <option value="bar">Barras</option>
                        <option value="line">Linha</option>
                        <option value="pie">Pizza</option>
                    </select>
                    <label for="periodoGraficoDashboard" class="text-sm">Período:</label>
                    <select id="periodoGraficoDashboard" class="p-1 border rounded bg-white text-sm">
                        <option value="semanal">Semanal</option>
                        <option value="diario">Diário</option>
                        <option value="mensal">Mensal</option>
                    </select>
                </div>
            </div>
            <canvas id="vendasChart" height="150"></canvas>
          </div>
        </section>

        <!-- Seção Vendas -->
        <section id="vendas" class="section hidden">
          <h2 class="text-2xl font-bold mb-4 section-header">Registro de Vendas</h2>
          <form id="vendaForm" class="space-y-4 card mb-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <input type="date" id="dataVenda" class="p-2 border rounded" required />
              <select id="produtoVenda" class="p-2 border rounded bg-white" required>
                  <option value="" disabled selected>Selecione o Produto</option>
              </select>
              <input type="number" id="quantidadeVenda" placeholder="Quantidade" class="p-2 border rounded" required min="1" />
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <input type="number" id="valorVenda" placeholder="Valor Total (R$)" class="p-2 border rounded" required min="0" step="0.01" />
              
              <div>
                <label for="metodoPagamento" class="block text-sm font-medium mb-1">Método de Pagamento:</label>
                <select id="metodoPagamento" class="p-2 border rounded bg-white w-full" required>
                  <option value="" disabled selected>Selecione</option>
                  <option value="Dinheiro">Dinheiro</option>
                  <option value="Cartão de Débito">Cartão de Débito</option>
                  <option value="Cartão de Crédito">Cartão de Crédito</option>
                  <option value="PIX">PIX</option>
                  <option value="Transferência">Transferência</option>
                  <option value="Vale Refeição">Vale Refeição</option>
                  <option value="Outro">Outro</option>
                </select>
              </div>
              
              <div id="parcelamentoContainer" class="hidden">
                <label for="parcelamento" class="block text-sm font-medium mb-1">Parcelamento:</label>
                <div class="flex items-center">
                  <input type="number" id="parcelamento" placeholder="Número de parcelas" class="p-2 border rounded w-full" min="1" max="12" value="1" />
                  <span class="ml-2 text-sm text-gray-600">x</span>
                </div>
              </div>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label for="clienteVenda" class="block text-sm font-medium mb-1">Cliente (opcional):</label>
                <select id="clienteVenda" class="p-2 border rounded bg-white w-full">
                  <option value="">Selecione o Cliente</option>
                  <!-- Opções serão preenchidas via JavaScript -->
                </select>
              </div>
              
              <div>
                <label for="observacoesVenda" class="block text-sm font-medium mb-1">Observações:</label>
                <input type="text" id="observacoesVenda" placeholder="Observações adicionais" class="p-2 border rounded w-full" />
              </div>
            </div>
            
            <div class="border rounded p-3 bg-rose-50">
              <h4 class="font-medium mb-2">Verificação de Estoque:</h4>
              <div id="verificacaoEstoqueVenda" class="text-sm">
                <!-- Resultado da verificação de estoque será inserido aqui -->
                <p class="text-gray-600">Selecione um produto e quantidade para verificar disponibilidade.</p>
              </div>
            </div>
            
            <div class="flex justify-between">
              <button type="button" id="verificarEstoqueVendaBtn" class="secondary-button px-4 py-2 rounded" onclick="verificarEstoqueVenda()">Verificar Disponibilidade</button>
              <button type="submit" class="primary-button px-4 py-2 rounded">Registrar Venda</button>
            </div>
          </form>
          
          <h3 class="text-xl font-bold mb-2 section-header">Histórico de Vendas</h3>
          <div class="card mb-4">
              <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                  <div>
                      <label for="filtroVendasPeriodo" class="block text-sm font-medium mb-1">Filtrar por período:</label>
                      <select id="filtroVendasPeriodo" class="p-2 border rounded bg-white w-full">
                          <option value="todos">Todos os períodos</option>
                          <option value="hoje">Hoje</option>
                          <option value="semana">Esta semana</option>
                          <option value="mes">Este mês</option>
                          <option value="personalizado">Período personalizado</option>
                      </select>
                  </div>
                  <div id="periodoPersonalizadoContainer" class="hidden grid grid-cols-2 gap-2">
                      <div>
                          <label for="dataInicio" class="block text-sm font-medium mb-1">Data inicial:</label>
                          <input type="date" id="dataInicio" class="p-2 border rounded w-full" />
                      </div>
                      <div>
                          <label for="dataFim" class="block text-sm font-medium mb-1">Data final:</label>
                          <input type="date" id="dataFim" class="p-2 border rounded w-full" />
                      </div>
                  </div>
                  <div>
                      <label for="filtroProdutoVenda" class="block text-sm font-medium mb-1">Filtrar por produto:</label>
                      <select id="filtroProdutoVenda" class="p-2 border rounded bg-white w-full">
                          <option value="todos">Todos os produtos</option>
                      </select>
                  </div>
                  <div>
                      <label for="filtroMetodoPagamento" class="block text-sm font-medium mb-1">Filtrar por pagamento:</label>
                      <select id="filtroMetodoPagamento" class="p-2 border rounded bg-white w-full">
                          <option value="todos">Todos os métodos</option>
                          <option value="Dinheiro">Dinheiro</option>
                          <option value="Cartão de Débito">Cartão de Débito</option>
                          <option value="Cartão de Crédito">Cartão de Crédito</option>
                          <option value="PIX">PIX</option>
                          <option value="Transferência">Transferência</option>
                          <option value="Vale Refeição">Vale Refeição</option>
                          <option value="Outro">Outro</option>
                      </select>
                  </div>
                  <div>
                      <label for="buscarVenda" class="block text-sm font-medium mb-1">Buscar:</label>
                      <input type="text" id="buscarVenda" placeholder="Buscar por produto..." class="p-2 border rounded w-full" />
                  </div>
              </div>
              <div class="flex justify-end">
                  <button id="aplicarFiltrosVendas" class="primary-button px-4 py-2 rounded">Aplicar Filtros</button>
                  <button id="limparFiltrosVendas" class="secondary-button px-4 py-2 rounded ml-2">Limpar Filtros</button>
              </div>
          </div>
          <div class="card">
              <table class="w-full table-auto">
                <thead>
                  <tr>
                      <th class="p-2 text-left">Data</th>
                      <th class="p-2 text-left">Produto</th>
                      <th class="p-2 text-left">Qtd</th>
                      <th class="p-2 text-left">Valor</th>
                      <th class="p-2 text-left">Pagamento</th>
                      <th class="p-2 text-left">Cliente</th>
                      <th class="p-2 text-left">Ações</th>
                  </tr>
                </thead>
                <tbody id="vendasTabela"></tbody>
              </table>
          </div>
          
          <!-- Resumo Financeiro -->
          <h3 class="text-xl font-bold mb-2 mt-6 section-header">Resumo Financeiro</h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <div class="card p-4">
                  <h4 class="font-medium mb-2">Total por Método de Pagamento</h4>
                  <div id="resumoMetodosPagamento" class="space-y-1 text-sm">
                      <!-- Será preenchido via JavaScript -->
                      <p>Carregando dados...</p>
                  </div>
              </div>
              <div class="card p-4">
                  <h4 class="font-medium mb-2">Vendas por Período</h4>
                  <div id="resumoVendasPeriodo" class="space-y-1 text-sm">
                      <!-- Será preenchido via JavaScript -->
                      <p>Carregando dados...</p>
                  </div>
              </div>
              <div class="card p-4">
                  <h4 class="font-medium mb-2">Produtos Mais Vendidos</h4>
                  <div id="resumoProdutosMaisVendidos" class="space-y-1 text-sm">
                      <!-- Será preenchido via JavaScript -->
                      <p>Carregando dados...</p>
                  </div>
              </div>
          </div>
        </section>

        <!-- Seção Produtos -->
        <section id="produtos" class="section hidden">
          <h2 class="text-2xl font-bold mb-4 section-header">Produtos / Cardápio</h2>
          
          <!-- Abas para alternar entre Produtos e Fichas Técnicas -->
          <div class="flex border-b border-rose-300 mb-4">
            <button id="abaProdutos" class="py-2 px-4 font-medium border-b-2 border-rose-500 text-rose-500" onclick="mostrarAba('produtos')">Produtos</button>
            <button id="abaFichasTecnicas" class="py-2 px-4 font-medium text-gray-600" onclick="mostrarAba('fichasTecnicas')">Fichas Técnicas</button>
          </div>
          
          <!-- Seção de Produtos -->
          <div id="secaoProdutos">
              <div class="card mb-6">
                  <h3 class="text-xl font-semibold mb-3">Adicionar/Editar Produto</h3>
                  <form id="produtoForm" class="space-y-3">
                      <input type="hidden" id="produtoId" />
                      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                          <input type="text" id="produtoNome" placeholder="Nome do Produto" class="p-2 border rounded" required />
                          <select id="produtoCategoria" class="p-2 border rounded bg-white">
                              <option value="" disabled selected>Selecione a Categoria</option>
                              <option value="Docinhos">Docinhos</option>
                              <option value="Bolos">Bolos</option>
                              <option value="Mousses">Mousses</option>
                              <option value="Pães de Mel">Pães de Mel</option>
                              <option value="Salgados">Salgados</option>
                              <option value="Outros">Outros</option>
                          </select>
                      </div>
                      
                      <!-- Sistema de Variantes de Sabores -->
                      <div>
                          <label class="block text-sm font-medium mb-1">Gerenciamento de Sabores:</label>
                          <div class="border rounded p-3 bg-rose-50">
                              <div class="flex items-center mb-2">
                                  <input type="radio" id="saboresSimples" name="tipoSabores" value="simples" checked class="mr-2" onchange="toggleSaboresMode('simples')" />
                                  <label for="saboresSimples" class="text-sm">Sabores Simples</label>
                                  <input type="radio" id="saboresVariantes" name="tipoSabores" value="variantes" class="ml-4 mr-2" onchange="toggleSaboresMode('variantes')" />
                                  <label for="saboresVariantes" class="text-sm">Variantes de Sabores</label>
                              </div>
                              
                              <!-- Modo Sabores Simples -->
                              <div id="saboresSimplesContainer">
                                  <label for="produtoSabores" class="block text-sm font-medium mb-1">Sabores disponíveis (separados por vírgula):</label>
                                  <input type="text" id="produtoSabores" placeholder="Ex: Chocolate, Morango, Limão" class="p-2 border rounded w-full" />
                              </div>
                              
                              <!-- Modo Variantes de Sabores -->
                              <div id="saboresVariantesContainer" class="hidden">
                                  <div class="mb-2">
                                      <label class="block text-sm font-medium mb-1">Sabores Base (separados por vírgula):</label>
                                      <input type="text" id="saboresBase" placeholder="Ex: Brigadeiro, Beijinho, Prestígio" class="p-2 border rounded w-full" />
                                  </div>
                                  <div id="variantesContainer" class="space-y-2">
                                      <!-- Variantes serão adicionadas aqui dinamicamente -->
                                  </div>
                                  <button type="button" id="adicionarVariante" class="mt-2 bg-rose-300 hover:bg-rose-400 text-white px-3 py-1 rounded text-sm" onclick="adicionarVarianteSabor()">+ Adicionar Variante</button>
                              </div>
                          </div>
                      </div>
                      
                      <div>
                          <label for="produtoDetalhes" class="block text-sm font-medium mb-1">Detalhes adicionais:</label>
                          <textarea id="produtoDetalhes" placeholder="Informações adicionais sobre o produto" class="p-2 border rounded w-full" rows="2"></textarea>
                      </div>
                      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                          <input type="number" id="produtoPreco" placeholder="Preço (R$)" class="p-2 border rounded" required min="0" step="0.01" />
                          <input type="text" id="produtoPromocao" placeholder="Promoção (ex: 2 por R$20)" class="p-2 border rounded" />
                          <input type="number" id="produtoCusto" placeholder="Custo Estimado (R$)" class="p-2 border rounded" min="0" step="0.01" />
                      </div>
                      
                      <!-- Associar com Ficha Técnica -->
                      <div>
                          <label for="produtoFichaTecnica" class="block text-sm font-medium mb-1">Associar Ficha Técnica:</label>
                          <select id="produtoFichaTecnica" class="p-2 border rounded bg-white w-full">
                              <option value="">Nenhuma (opcional)</option>
                              <!-- Opções serão preenchidas via JavaScript -->
                          </select>
                      </div>
                      
                      <button type="submit" id="produtoSubmitButton" class="primary-button px-4 py-2 rounded">Adicionar Produto</button>
                      <button type="button" id="produtoCancelButton" class="secondary-button px-4 py-2 rounded hidden" onclick="cancelarEdicaoProduto()">Cancelar Edição</button>
                  </form>
              </div>

              <div class="card mb-4">
                  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                      <div>
                          <label for="filtroCategoriasProduto" class="block text-sm font-medium mb-1">Filtrar por categoria:</label>
                          <select id="filtroCategoriasProduto" class="p-2 border rounded bg-white w-full">
                              <option value="todas">Todas as categorias</option>
                              <option value="Docinhos">Docinhos</option>
                              <option value="Bolos">Bolos</option>
                              <option value="Mousses">Mousses</option>
                              <option value="Pães de Mel">Pães de Mel</option>
                              <option value="Salgados">Salgados</option>
                              <option value="Outros">Outros</option>
                          </select>
                      </div>
                      <div>
                          <label for="filtroSaboresProduto" class="block text-sm font-medium mb-1">Filtrar por sabor:</label>
                          <select id="filtroSaboresProduto" class="p-2 border rounded bg-white w-full">
                              <option value="todos">Todos os sabores</option>
                          </select>
                      </div>
                      <div>
                          <label for="buscarProduto" class="block text-sm font-medium mb-1">Buscar:</label>
                          <input type="text" id="buscarProduto" placeholder="Buscar por nome..." class="p-2 border rounded w-full" />
                      </div>
                  </div>
                  <div class="flex justify-end">
                      <button id="aplicarFiltrosProdutos" class="primary-button px-4 py-2 rounded">Aplicar Filtros</button>
                      <button id="limparFiltrosProdutos" class="secondary-button px-4 py-2 rounded ml-2">Limpar Filtros</button>
                  </div>
              </div>

              <div class="card">
                  <table class="w-full table-auto">
                    <thead>
                      <tr>
                        <th class="p-2 text-left">Produto</th>
                        <th class="p-2 text-left">Categoria</th>
                        <th class="p-2 text-left">Sabores</th>
                        <th class="p-2 text-left">Preço</th>
                        <th class="p-2 text-left">Custo</th>
                        <th class="p-2 text-left">Ficha Técnica</th>
                        <th class="p-2 text-left">Ações</th>
                      </tr>
                    </thead>
                    <tbody id="produtosTabela">
                    </tbody>
                  </table>
              </div>
          </div>
          
          <!-- Seção de Fichas Técnicas -->
          <div id="secaoFichasTecnicas" class="hidden">
              <div class="card mb-6">
                  <h3 class="text-xl font-semibold mb-3">Adicionar/Editar Ficha Técnica</h3>
                  <form id="fichaTecnicaForm" class="space-y-3">
                      <input type="hidden" id="fichaTecnicaId" />
                      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                          <input type="text" id="fichaTecnicaNome" placeholder="Nome da Ficha Técnica" class="p-2 border rounded" required />
                          <select id="fichaTecnicaCategoria" class="p-2 border rounded bg-white">
                              <option value="" disabled selected>Selecione a Categoria</option>
                              <option value="Docinhos">Docinhos</option>
                              <option value="Bolos">Bolos</option>
                              <option value="Mousses">Mousses</option>
                              <option value="Pães de Mel">Pães de Mel</option>
                              <option value="Salgados">Salgados</option>
                              <option value="Outros">Outros</option>
                          </select>
                      </div>
                      
                      <div>
                          <label class="block text-sm font-medium mb-1">Ingredientes:</label>
                          <div id="ingredientesContainer" class="space-y-2 border rounded p-3 bg-rose-50">
                              <!-- Ingredientes serão adicionados aqui dinamicamente -->
                          </div>
                          <button type="button" id="adicionarIngrediente" class="mt-2 bg-rose-300 hover:bg-rose-400 text-white px-3 py-1 rounded text-sm" onclick="adicionarIngrediente()">+ Adicionar Ingrediente</button>
                      </div>
                      
                      <div>
                          <label for="fichaTecnicaInstrucoes" class="block text-sm font-medium mb-1">Instruções de Preparo:</label>
                          <textarea id="fichaTecnicaInstrucoes" placeholder="Passo a passo do preparo" class="p-2 border rounded w-full" rows="3"></textarea>
                      </div>
                      
                      <div>
                          <label for="fichaTecnicaRendimento" class="block text-sm font-medium mb-1">Rendimento:</label>
                          <div class="flex items-center">
                              <input type="number" id="fichaTecnicaRendimentoQtd" placeholder="Quantidade" class="p-2 border rounded w-24" min="1" />
                              <input type="text" id="fichaTecnicaRendimentoUnidade" placeholder="Unidade (ex: unidades, porções)" class="p-2 border rounded ml-2 flex-grow" />
                          </div>
                      </div>
                      
                      <div class="border rounded p-3 bg-gray-50">
                          <h4 class="font-medium mb-2">Custo Total Calculado: <span id="custoTotalCalculado" class="text-rose-500">R$ 0.00</span></h4>
                          <p class="text-sm text-gray-600">O custo é calculado automaticamente com base nos ingredientes e suas quantidades.</p>
                      </div>
                      
                      <button type="submit" id="fichaTecnicaSubmitButton" class="primary-button px-4 py-2 rounded">Adicionar Ficha Técnica</button>
                      <button type="button" id="fichaTecnicaCancelButton" class="secondary-button px-4 py-2 rounded hidden" onclick="cancelarEdicaoFichaTecnica()">Cancelar Edição</button>
                  </form>
              </div>
              
              <div class="card">
                  <table class="w-full table-auto">
                    <thead>
                      <tr>
                        <th class="p-2 text-left">Nome</th>
                        <th class="p-2 text-left">Categoria</th>
                        <th class="p-2 text-left">Ingredientes</th>
                        <th class="p-2 text-left">Rendimento</th>
                        <th class="p-2 text-left">Custo Total</th>
                        <th class="p-2 text-left">Custo Unitário</th>
                        <th class="p-2 text-left">Ações</th>
                      </tr>
                    </thead>
                    <tbody id="fichasTecnicasTabela">
                    </tbody>
                  </table>
              </div>
          </div>
        </section>

        <!-- Seção Estoque -->
        <section id="estoque" class="section hidden">
          <!-- Abas para alternar entre Estoque e Produção -->
          <div class="flex border-b border-rose-300 mb-4">
            <button id="abaEstoque" class="py-2 px-4 font-medium border-b-2 border-rose-500 text-rose-500" onclick="mostrarAbaEstoque('estoque')">Estoque</button>
            <button id="abaProducao" class="py-2 px-4 font-medium text-gray-600" onclick="mostrarAbaEstoque('producao')">Produção</button>
          </div>
          
          <!-- Seção de Estoque -->
          <div id="secaoEstoque">
              <h2 class="text-2xl font-bold mb-4 section-header">Gerenciar Estoque</h2>
              
              <!-- Painel de Alertas de Estoque -->
              <div id="painelAlertasEstoque" class="mb-6 p-4 border-l-4 border-rose-500 bg-rose-50 rounded shadow-sm">
                  <h3 class="text-lg font-semibold mb-2 flex items-center">
                      <i data-lucide="alert-triangle" class="inline-block w-5 h-5 mr-2 text-rose-500"></i>
                      Alertas de Estoque
                  </h3>
                  <div id="alertasEstoqueDetalhado" class="space-y-1">
                      <!-- Alertas serão inseridos aqui via JavaScript -->
                      <p class="text-sm text-gray-600">Nenhum alerta de estoque no momento.</p>
                  </div>
              </div>
              
              <form id="estoqueForm" class="mb-6 p-4 border rounded card">
                <h3 class="text-xl font-semibold mb-3">Adicionar/Editar Item ao Estoque</h3>
                <input type="hidden" id="itemId" />
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                  <input type="text" id="itemNome" placeholder="Nome do Item" class="p-2 border rounded" required />
                  <input type="number" id="itemQuantidade" placeholder="Quantidade" class="p-2 border rounded" required min="0" step="any" />
                  <input type="text" id="itemUnidade" placeholder="Unidade (ex: kg, unid)" class="p-2 border rounded" required />
                  <select id="itemTipo" class="p-2 border rounded bg-white" required>
                    <option value="" disabled selected>Tipo</option>
                    <option value="Matéria-prima">Matéria-prima</option>
                    <option value="Produto Pronto">Produto Pronto</option>
                    <option value="Embalagem">Embalagem</option>
                    <option value="Outro">Outro</option>
                  </select>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-3">
                    <div>
                        <label for="itemEstoqueMinimo" class="block text-sm font-medium mb-1">Estoque Mínimo (Alerta):</label>
                        <input type="number" id="itemEstoqueMinimo" placeholder="Opcional" class="p-2 border rounded w-full" min="0" step="any" />
                    </div>
                    <div>
                        <label for="itemEstoqueIdeal" class="block text-sm font-medium mb-1">Estoque Ideal:</label>
                        <input type="number" id="itemEstoqueIdeal" placeholder="Opcional" class="p-2 border rounded w-full" min="0" step="any" />
                    </div>
                    <div>
                        <label for="itemCustoUnitario" class="block text-sm font-medium mb-1">Custo Unitário (R$):</label>
                        <input type="number" id="itemCustoUnitario" placeholder="Opcional" class="p-2 border rounded w-full" min="0" step="0.01" />
                    </div>
                </div>
                <div class="mt-3">
                    <label for="itemFornecedor" class="block text-sm font-medium mb-1">Fornecedor:</label>
                    <input type="text" id="itemFornecedor" placeholder="Nome do fornecedor (opcional)" class="p-2 border rounded w-full" />
                </div>
                <button type="submit" id="estoqueSubmitButton" class="primary-button mt-4 px-4 py-2 rounded">Adicionar Item</button>
                <button type="button" id="estoqueCancelButton" class="secondary-button mt-4 px-4 py-2 rounded hidden ml-2" onclick="cancelarEdicaoEstoque()">Cancelar Edição</button>
              </form>

              <h2 class="text-2xl font-bold mb-4 section-header">Estoque Atual</h2>
              <div class="card mb-4">
                  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                      <div>
                          <label for="filtroTipoEstoque" class="block text-sm font-medium mb-1">Filtrar por tipo:</label>
                          <select id="filtroTipoEstoque" class="p-2 border rounded bg-white w-full">
                              <option value="todos">Todos os tipos</option>
                              <option value="Matéria-prima">Matéria-prima</option>
                              <option value="Produto Pronto">Produto Pronto</option>
                              <option value="Embalagem">Embalagem</option>
                              <option value="Outro">Outro</option>
                          </select>
                      </div>
                      <div>
                          <label for="filtroEstoqueBaixo" class="block text-sm font-medium mb-1">Filtrar por nível:</label>
                          <select id="filtroEstoqueBaixo" class="p-2 border rounded bg-white w-full">
                              <option value="todos">Todos os níveis</option>
                              <option value="baixo">Estoque baixo</option>
                              <option value="normal">Estoque normal</option>
                              <option value="ideal">Estoque ideal ou acima</option>
                          </select>
                      </div>
                      <div>
                          <label for="buscarEstoque" class="block text-sm font-medium mb-1">Buscar:</label>
                          <input type="text" id="buscarEstoque" placeholder="Buscar por nome..." class="p-2 border rounded w-full" />
                      </div>
                  </div>
                  <div class="flex justify-end">
                      <button id="aplicarFiltrosEstoque" class="primary-button px-4 py-2 rounded">Aplicar Filtros</button>
                      <button id="limparFiltrosEstoque" class="secondary-button px-4 py-2 rounded ml-2">Limpar Filtros</button>
                  </div>
              </div>
              <div class="card">
                  <div id="alertasEstoque" class="mb-4"></div> <!-- Área para alertas (legado) -->
                  <table class="w-full table-auto">
                    <thead>
                      <tr>
                        <th class="p-2 text-left">Item</th>
                        <th class="p-2 text-left">Quantidade</th>
                        <th class="p-2 text-left">Tipo</th>
                        <th class="p-2 text-left">Status</th>
                        <th class="p-2 text-left">Custo Unit.</th>
                        <th class="p-2 text-left">Ações</th>
                      </tr>
                    </thead>
                    <tbody id="estoqueTabela">
                    </tbody>
                  </table>
              </div>
              
              <!-- Histórico de Movimentações -->
              <h2 class="text-2xl font-bold mb-4 mt-6 section-header">Histórico de Movimentações</h2>
              <div class="card">
                  <table class="w-full table-auto">
                    <thead>
                      <tr>
                        <th class="p-2 text-left">Data</th>
                        <th class="p-2 text-left">Item</th>
                        <th class="p-2 text-left">Tipo</th>
                        <th class="p-2 text-left">Quantidade</th>
                        <th class="p-2 text-left">Operação</th>
                        <th class="p-2 text-left">Origem/Destino</th>
                      </tr>
                    </thead>
                    <tbody id="movimentacoesTabela">
                      <!-- Movimentações serão inseridas aqui via JavaScript -->
                    </tbody>
                  </table>
              </div>
          </div>
          
          <!-- Seção de Produção -->
          <div id="secaoProducao" class="hidden">
              <h2 class="text-2xl font-bold mb-4 section-header">Registrar Produção</h2>
              <div class="card mb-6">
                  <form id="producaoForm" class="space-y-3">
                      <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                          <div>
                              <label for="producaoFichaTecnica" class="block text-sm font-medium mb-1">Selecione a Ficha Técnica:</label>
                              <select id="producaoFichaTecnica" class="p-2 border rounded bg-white w-full" required>
                                  <option value="" disabled selected>Escolha uma ficha técnica</option>
                                  <!-- Opções serão preenchidas via JavaScript -->
                              </select>
                          </div>
                          <div>
                              <label for="producaoQuantidade" class="block text-sm font-medium mb-1">Quantidade a Produzir:</label>
                              <div class="flex items-center">
                                  <input type="number" id="producaoQuantidade" placeholder="Quantidade" class="p-2 border rounded flex-grow" required min="1" />
                                  <span id="producaoUnidade" class="ml-2 text-gray-600">unidades</span>
                              </div>
                          </div>
                      </div>
                      
                      <div class="border rounded p-3 bg-rose-50">
                          <h4 class="font-medium mb-2">Ingredientes Necessários:</h4>
                          <div id="ingredientesNecessarios" class="space-y-1 text-sm">
                              <!-- Lista de ingredientes necessários será inserida aqui -->
                              <p class="text-gray-600">Selecione uma ficha técnica para ver os ingredientes necessários.</p>
                          </div>
                      </div>
                      
                      <div class="border rounded p-3 bg-gray-50">
                          <h4 class="font-medium mb-2">Verificação de Estoque:</h4>
                          <div id="verificacaoEstoque" class="space-y-1 text-sm">
                              <!-- Resultado da verificação de estoque será inserido aqui -->
                              <p class="text-gray-600">Selecione uma ficha técnica e quantidade para verificar disponibilidade.</p>
                          </div>
                      </div>
                      
                      <div class="flex justify-between items-center">
                          <button type="button" id="verificarEstoqueBtn" class="secondary-button px-4 py-2 rounded" onclick="verificarEstoqueProducao()">Verificar Disponibilidade</button>
                          <button type="submit" id="registrarProducaoBtn" class="primary-button px-4 py-2 rounded">Registrar Produção</button>
                      </div>
                  </form>
              </div>
              
              <h2 class="text-2xl font-bold mb-4 section-header">Histórico de Produção</h2>
              <div class="card">
                  <table class="w-full table-auto">
                    <thead>
                      <tr>
                        <th class="p-2 text-left">Data</th>
                        <th class="p-2 text-left">Produto</th>
                        <th class="p-2 text-left">Quantidade</th>
                        <th class="p-2 text-left">Custo Total</th>
                        <th class="p-2 text-left">Custo Unitário</th>
                      </tr>
                    </thead>
                    <tbody id="historicoProducaoTabela">
                      <!-- Histórico será inserido aqui via JavaScript -->
                    </tbody>
                  </table>
              </div>
          </div>
        </section>

        <!-- Seção Clientes -->
        <section id="clientes" class="section hidden">
          <h2 class="text-2xl font-bold mb-4 section-header">Clientes</h2>
          <div class="card mb-6">
              <h3 class="text-xl font-semibold mb-3">Adicionar/Editar Cliente</h3>
              <form id="clienteForm" class="space-y-3">
                  <input type="hidden" id="clienteId" />
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <input type="text" id="clienteNome" placeholder="Nome do Cliente" class="p-2 border rounded" required />
                      <input type="tel" id="clienteTelefone" placeholder="Telefone/WhatsApp" class="p-2 border rounded" />
                  </div>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <input type="email" id="clienteEmail" placeholder="E-mail" class="p-2 border rounded" />
                      <input type="text" id="clienteEndereco" placeholder="Endereço" class="p-2 border rounded" />
                  </div>
                  <div>
                      <label for="clienteObservacoes" class="block text-sm font-medium mb-1">Observações:</label>
                      <textarea id="clienteObservacoes" placeholder="Preferências, restrições alimentares, etc." class="p-2 border rounded w-full" rows="2"></textarea>
                  </div>
                  <div>
                      <label class="block text-sm font-medium mb-1">Sistema de Fidelidade:</label>
                      <div class="flex items-center space-x-1">
                          <span>Estrelas:</span>
                          <div id="clienteEstrelas" class="flex">
                              <button type="button" class="text-gray-300 hover:text-yellow-400" data-estrela="1">★</button>
                              <button type="button" class="text-gray-300 hover:text-yellow-400" data-estrela="2">★</button>
                              <button type="button" class="text-gray-300 hover:text-yellow-400" data-estrela="3">★</button>
                              <button type="button" class="text-gray-300 hover:text-yellow-400" data-estrela="4">★</button>
                              <button type="button" class="text-gray-300 hover:text-yellow-400" data-estrela="5">★</button>
                          </div>
                          <input type="hidden" id="clienteEstrelasValor" value="0" />
                      </div>
                  </div>
                  <button type="submit" id="clienteSubmitButton" class="primary-button px-4 py-2 rounded">Adicionar Cliente</button>
                  <button type="button" id="clienteCancelButton" class="secondary-button px-4 py-2 rounded hidden" onclick="cancelarEdicaoCliente()">Cancelar Edição</button>
              </form>
          </div>

          <div class="card mb-4">
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                  <div>
                      <label for="filtroEstrelas" class="block text-sm font-medium mb-1">Filtrar por estrelas:</label>
                      <select id="filtroEstrelas" class="p-2 border rounded bg-white w-full">
                          <option value="todas">Todas as estrelas</option>
                          <option value="1">1 estrela ou mais</option>
                          <option value="2">2 estrelas ou mais</option>
                          <option value="3">3 estrelas ou mais</option>
                          <option value="4">4 estrelas ou mais</option>
                          <option value="5">5 estrelas</option>
                      </select>
                  </div>
                  <div>
                      <label for="buscarCliente" class="block text-sm font-medium mb-1">Buscar:</label>
                      <input type="text" id="buscarCliente" placeholder="Buscar por nome, telefone ou e-mail..." class="p-2 border rounded w-full" />
                  </div>
              </div>
              <div class="flex justify-end">
                  <button id="aplicarFiltrosClientes" class="primary-button px-4 py-2 rounded">Aplicar Filtros</button>
                  <button id="limparFiltrosClientes" class="secondary-button px-4 py-2 rounded ml-2">Limpar Filtros</button>
              </div>
          </div>

          <div class="card">
              <table class="w-full table-auto">
                <thead>
                  <tr>
                    <th class="p-2 text-left">Nome</th>
                    <th class="p-2 text-left">Telefone</th>
                    <th class="p-2 text-left">E-mail</th>
                    <th class="p-2 text-left">Fidelidade</th>
                    <th class="p-2 text-left">Ações</th>
                  </tr>
                </thead>
                <tbody id="clientesTabela">
                    <!-- Conteúdo gerado via JS -->
                </tbody>
              </table>
          </div>
        </section>

        <!-- Seção Relatórios -->
        <section id="relatorios" class="section hidden">
          <h2 class="text-2xl font-bold mb-4 section-header">Relatórios</h2>
           <div class="card mb-4">
               <p>Em breve: Relatórios detalhados de vendas, estoque e clientes.</p>
           </div>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
             <div class="card">
                <h3 class="font-semibold mb-2">Produtos Mais Vendidos (Exemplo)</h3>
                <canvas id="produtosVendidosChart"></canvas>
             </div>
             <div class="card">
                <h3 class="font-semibold mb-2">Nível de Estoque (Exemplo)</h3>
                <canvas id="nivelEstoqueChart"></canvas>
             </div>
          </div>
        </section>

        <!-- Seção Gráficos e Análises -->
        <section id="graficos_avancados" class="section hidden">
            <h2 class="text-2xl font-bold mb-4 section-header">Gráficos e Análises</h2>
            <div class="card mb-6">
                <h3 class="text-xl font-semibold mb-3">Configurações do Gráfico</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label for="graficoTipo" class="block text-sm font-medium mb-1">Tipo de gráfico:</label>
                        <select id="graficoTipo" class="p-2 border rounded bg-white w-full">
                            <option value="bar">Barra</option>
                            <option value="line">Linha</option>
                            <option value="pie">Pizza</option>
                            <option value="doughnut">Rosca</option>
                            <option value="polarArea">Área Polar</option>
                            <option value="radar">Radar</option>
                        </select>
                    </div>
                    <div>
                        <label for="graficoDados" class="block text-sm font-medium mb-1">Dados a visualizar:</label>
                        <select id="graficoDados" class="p-2 border rounded bg-white w-full">
                            <option value="vendas_semanais">Vendas Semanais (Valor)</option>
                            <option value="vendas_mensais">Vendas Mensais (Valor)</option>
                            <option value="vendas_diarias">Vendas Diárias (Valor)</option>
                            <option value="produtos_vendidos_qtd">Produtos Mais Vendidos (Qtd)</option>
                            <option value="produtos_vendidos_valor">Produtos Mais Vendidos (Valor)</option>
                            <option value="nivel_estoque">Nível de Estoque (Itens)</option>
                            <option value="lucratividade_produto">Lucratividade por Produto</option>
                            <option value="vendas_por_categoria">Vendas por Categoria</option>
                            <option value="vendas_por_cliente">Vendas por Cliente</option>
                            <option value="metas_realizadas">Metas vs Realizado</option>
                        </select>
                    </div>
                </div>
                
                <div id="opcoesAvancadas" class="border-t pt-4 mt-4">
                    <h4 class="font-medium mb-2">Opções Avançadas</h4>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label for="filtroDataInicio" class="block text-sm font-medium mb-1">Data inicial:</label>
                            <input type="date" id="filtroDataInicio" class="p-2 border rounded w-full" />
                        </div>
                        <div>
                            <label for="filtroDataFim" class="block text-sm font-medium mb-1">Data final:</label>
                            <input type="date" id="filtroDataFim" class="p-2 border rounded w-full" />
                        </div>
                        <div>
                            <label for="limiteDados" class="block text-sm font-medium mb-1">Limite de dados:</label>
                            <select id="limiteDados" class="p-2 border rounded bg-white w-full">
                                <option value="5">Top 5</option>
                                <option value="10" selected>Top 10</option>
                                <option value="20">Top 20</option>
                                <option value="0">Todos</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <label for="produtosComparar" class="block text-sm font-medium mb-1">Comparar produtos específicos:</label>
                        <select id="produtosComparar" class="p-2 border rounded bg-white w-full" multiple>
                            <!-- Opções serão preenchidas via JavaScript -->
                        </select>
                        <p class="text-xs text-gray-500 mt-1">Segure Ctrl (ou Cmd) para selecionar múltiplos produtos</p>
                    </div>
                </div>
                
                <div class="flex justify-end mt-4">
                    <button onclick="atualizarGraficoAvancado()" class="primary-button px-4 py-2 rounded">Gerar Gráfico</button>
                    <button onclick="exportarGrafico()" class="secondary-button px-4 py-2 rounded ml-2">Exportar Gráfico</button>
                </div>
            </div>
            <div class="card mb-6">
                <canvas id="graficoAvancadoCanvas"></canvas>
            </div>
        </section>

        <!-- Seção Meta Diária -->
        <section id="meta" class="section hidden">
          <h2 class="text-2xl font-bold mb-4 section-header">Meta Diária</h2>
          <div class="card">
              <label for="metaInput" class="block mb-2 font-semibold">Definir Meta de vendas diárias (R$):</label>
              <input type="number" id="metaInput" class="p-2 border rounded mb-4" value="100" min="0" />
              <p class="mb-2">Progresso da Meta:</p>
              <div id="progressoMeta" class="w-full bg-rose-100 h-6 rounded overflow-hidden">
                <div id="barraMeta" class="bg-rose-400 h-6 text-center text-white text-sm">0%</div>
              </div>
          </div>
        </section>


      </main>
    </div>

    <!-- Página da Interface da IA (será exibida quando o botão Jeh AI for clicado) -->
    <div id="jeh_ai_interface" class="hidden fixed inset-0 bg-white z-50 overflow-auto">
      <div class="max-w-4xl mx-auto p-6">
        <div class="flex justify-between items-center mb-6">
          <h1 class="text-3xl brand-font text-center text-rose-500">Jeh AI - Assistente de Vendas</h1>
          <button onclick="voltarAoPainel()" class="bg-gray-200 hover:bg-gray-300 px-4 py-2 rounded">
            Voltar ao Painel
          </button>
        </div>
        
        <div class="card mb-6">
          <h2 class="text-xl font-semibold mb-4">Bem-vindo à Jeh AI</h2>
          <p class="mb-4">Esta é a interface da sua assistente de vendas inteligente. Em breve, esta IA estará integrada com:</p>
          <ul class="list-disc pl-6 mb-4 space-y-2">
            <li>API de Chat do GPT para atendimento personalizado</li>
            <li>WhatsApp para comunicação direta com clientes</li>
            <li>Instagram e Facebook para gerenciamento de redes sociais</li>
            <li>iFood para integração com pedidos online</li>
          </ul>
          <p>Estamos trabalhando para trazer a melhor experiência de vendas automatizada para o seu negócio!</p>
        </div>
        
        <div class="card">
          <h2 class="text-xl font-semibold mb-4">Recursos em Desenvolvimento</h2>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="border rounded p-4 bg-rose-50">
              <h3 class="font-medium mb-2">Atendimento Automatizado</h3>
              <p>Responda perguntas frequentes, forneça informações sobre produtos e preços, e agende pedidos automaticamente.</p>
            </div>
            <div class="border rounded p-4 bg-purple-50">
              <h3 class="font-medium mb-2">Gestão de Pedidos</h3>
              <p>Receba, confirme e acompanhe pedidos de múltiplos canais em um único lugar.</p>
            </div>
            <div class="border rounded p-4 bg-teal-50">
              <h3 class="font-medium mb-2">Marketing Personalizado</h3>
              <p>Envie promoções e recomendações personalizadas com base no histórico de compras dos clientes.</p>
            </div>
            <div class="border rounded p-4 bg-yellow-50">
              <h3 class="font-medium mb-2">Análise de Dados</h3>
              <p>Obtenha insights valiosos sobre o comportamento dos clientes e tendências de vendas.</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      lucide.createIcons();

      // Função para mostrar seções
      function showSection(sectionId) {
        document.querySelectorAll('.section').forEach(section => section.classList.add('hidden'));
        const sectionToShow = document.getElementById(sectionId);
        if (sectionToShow) sectionToShow.classList.remove('hidden');
        else document.getElementById('inicio_dashboard').classList.remove('hidden');
      }

      // Função para mostrar a interface da Jeh AI
      function mostrarJehAI() {
        document.querySelector('.flex.h-screen').classList.add('hidden');
        document.getElementById('jeh_ai_interface').classList.remove('hidden');
      }

      // Função para voltar ao painel principal
      function voltarAoPainel() {
        document.getElementById('jeh_ai_interface').classList.add('hidden');
        document.querySelector('.flex.h-screen').classList.remove('hidden');
      }

      const STORAGE_KEY = 'docesDaJessData_v2'; // Incrementa versão se estrutura mudar
      let appData = {
          vendas: [],
          estoque: [],
          produtos: [],
          metaDiaria: 100,
          config: { logoUrl: null }
      };

      // --- DOM Elements --- (Simplified for brevity)
      const vendasTabelaBody = document.getElementById('vendasTabela');
      const produtoVendaSelect = document.getElementById('produtoVenda');
      const produtosTabelaBody = document.getElementById('produtosTabela');
      const produtoForm = document.getElementById('produtoForm');
      const estoqueTabelaBody = document.getElementById('estoqueTabela');
      const estoqueForm = document.getElementById('estoqueForm');
      const metaInput = document.getElementById('metaInput');
      const barraMeta = document.getElementById('barraMeta');
      const logoInput = document.getElementById('logoInput');
      const logoPreview = document.getElementById('logoPreview');
      const vendasChartCanvas = document.getElementById('vendasChart')?.getContext('2d');
      const lucroTotalSpan = document.getElementById('lucroTotal');
      const graficoAvancadoCanvas = document.getElementById('graficoAvancadoCanvas')?.getContext('2d');
      const graficoTipoSelect = document.getElementById('graficoTipo');
      const graficoDadosSelect = document.getElementById('graficoDados');
      const alertasEstoqueDiv = document.getElementById('alertasEstoque');
      const analisesSugestoesDiv = document.getElementById('analisesSugestoes');

      // --- Data Functions --- 
      function salvarDados() {
          try {
              localStorage.setItem(STORAGE_KEY, JSON.stringify(appData));
          } catch (error) {
              console.error("Erro ao salvar dados no localStorage:", error);
              alert("Erro ao salvar dados. Verifique se o localStorage está habilitado e não está cheio.");
          }
      }

      function carregarDados() {
          const dadosSalvos = localStorage.getItem(STORAGE_KEY);
          if (dadosSalvos) {
              try {
                  appData = JSON.parse(dadosSalvos);
                  // Default values for potentially missing keys in older data
                  appData.vendas = appData.vendas || [];
                  appData.estoque = appData.estoque || [];
                  appData.produtos = appData.produtos || [];
                  appData.metaDiaria = appData.metaDiaria || 100;
                  appData.config = appData.config || { logoUrl: null };
                  // Ensure IDs exist
                  appData.estoque.forEach((item, index) => item.id = item.id || gerarIdUnico('est', index));
                  appData.produtos.forEach((item, index) => item.id = item.id || gerarIdUnico('prod', index));
                  appData.vendas.forEach((item, index) => item.id = item.id || gerarIdUnico('venda', index));
              } catch (error) {
                  console.error("Erro ao carregar dados do localStorage:", error);
                  alert("Erro ao carregar dados salvos. Os dados podem estar corrompidos. Iniciando com dados padrão.");
                  inicializarDadosPadrao(); // Reset to default if parsing fails
              }
          } else {
              inicializarDadosPadrao();
          }
      }

      function inicializarDadosPadrao() {
           appData = {
              vendas: [],
              estoque: [
                { id: gerarIdUnico('est'), nome: 'Forminhas', quantidade: 500, unidade: 'unid', tipo: 'Embalagem', estoqueMinimo: 100 },
                { id: gerarIdUnico('est'), nome: 'Chocolate ao Leite', quantidade: 2.5, unidade: 'kg', tipo: 'Matéria-prima', estoqueMinimo: 1 },
                { id: gerarIdUnico('est'), nome: 'Leite Condensado', quantidade: 5, unidade: 'latas', tipo: 'Matéria-prima', estoqueMinimo: 2 }
              ],
              produtos: [
                { id: gerarIdUnico('prod'), nome: 'Brigadeiro', categoria: 'Docinhos', sabores: 'Tradicional, Branco', preco: 3.50, custo: 1.20 },
                { id: gerarIdUnico('prod'), nome: 'Bolo de Chocolate', categoria: 'Bolos', sabores: 'Chocolate, Morango', preco: 45.00, custo: 20.00 }
              ],
              metaDiaria: 100,
              config: { logoUrl: null }
          };
      }

      function gerarIdUnico(prefix, index) {
          return prefix + '_' + (index !== undefined ? index : Date.now() + Math.floor(Math.random() * 1000));
      }

      // Função para exportar dados
      function exportarDados() {
          try {
              const dataStr = JSON.stringify(appData);
              const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
              
              const exportFileDefaultName = 'doces_da_jess_dados.json';
              
              const linkElement = document.createElement('a');
              linkElement.setAttribute('href', dataUri);
              linkElement.setAttribute('download', exportFileDefaultName);
              linkElement.click();
          } catch (error) {
              console.error("Erro ao exportar dados:", error);
              alert("Erro ao exportar dados: " + error.message);
          }
      }

      // Função para importar dados
      function importarDados(event) {
          const file = event.target.files[0];
          if (!file) return;
          
          const reader = new FileReader();
          reader.onload = function(e) {
              try {
                  const data = JSON.parse(e.target.result);
                  // Validação básica
                  if (!data.vendas || !data.estoque || !data.produtos) {
                      throw new Error("Arquivo de dados inválido ou incompleto");
                  }
                  
                  appData = data;
                  salvarDados();
                  alert("Dados importados com sucesso!");
                  location.reload(); // Recarrega a página para atualizar todos os componentes
              } catch (error) {
                  console.error("Erro ao importar dados:", error);
                  alert("Erro ao importar dados: " + error.message);
              }
          };
          reader.readAsText(file);
      }

      // Função para mostrar abas na seção de produtos
      function mostrarAba(aba) {
          if (aba === 'produtos') {
              document.getElementById('secaoProdutos').classList.remove('hidden');
              document.getElementById('secaoFichasTecnicas').classList.add('hidden');
              document.getElementById('abaProdutos').classList.add('border-b-2', 'border-rose-500', 'text-rose-500');
              document.getElementById('abaFichasTecnicas').classList.remove('border-b-2', 'border-rose-500', 'text-rose-500');
              document.getElementById('abaFichasTecnicas').classList.add('text-gray-600');
          } else {
              document.getElementById('secaoProdutos').classList.add('hidden');
              document.getElementById('secaoFichasTecnicas').classList.remove('hidden');
              document.getElementById('abaFichasTecnicas').classList.add('border-b-2', 'border-rose-500', 'text-rose-500');
              document.getElementById('abaProdutos').classList.remove('border-b-2', 'border-rose-500', 'text-rose-500');
              document.getElementById('abaProdutos').classList.add('text-gray-600');
          }
      }

      // Função para mostrar abas na seção de estoque
      function mostrarAbaEstoque(aba) {
          if (aba === 'estoque') {
              document.getElementById('secaoEstoque').classList.remove('hidden');
              document.getElementById('secaoProducao').classList.add('hidden');
              document.getElementById('abaEstoque').classList.add('border-b-2', 'border-rose-500', 'text-rose-500');
              document.getElementById('abaProducao').classList.remove('border-b-2', 'border-rose-500', 'text-rose-500');
              document.getElementById('abaProducao').classList.add('text-gray-600');
          } else {
              document.getElementById('secaoEstoque').classList.add('hidden');
              document.getElementById('secaoProducao').classList.remove('hidden');
              document.getElementById('abaProducao').classList.add('border-b-2', 'border-rose-500', 'text-rose-500');
              document.getElementById('abaEstoque').classList.remove('border-b-2', 'border-rose-500', 'text-rose-500');
              document.getElementById('abaEstoque').classList.add('text-gray-600');
          }
      }

      // Inicialização
      document.addEventListener('DOMContentLoaded', function() {
          carregarDados();
          
          // Inicializar logo se existir
          if (appData.config.logoUrl) {
              document.getElementById('logoPreview').src = appData.config.logoUrl;
              document.getElementById('logoPreview').classList.remove('hidden');
              document.getElementById('sidebarLogo').src = appData.config.logoUrl;
          }
          
          // Inicializar meta
          if (appData.metaDiaria) {
              metaInput.value = appData.metaDiaria;
          }
          
          // Mostrar seção inicial
          showSection('inicio_dashboard');
          
          // Inicializar análises e sugestões
          atualizarAnalisesSugestoes();
      });

      // Função para atualizar análises e sugestões
      function atualizarAnalisesSugestoes() {
          if (!analisesSugestoesDiv) return;
          
          const analises = [];
          
          // Verificar estoque baixo
          const itensBaixoEstoque = appData.estoque.filter(item => 
              item.estoqueMinimo && item.quantidade <= item.estoqueMinimo
          );
          
          if (itensBaixoEstoque.length > 0) {
              analises.push(`<div class="p-2 bg-red-50 border-l-4 border-red-500 rounded">
                  <h4 class="font-medium">Alerta de Estoque Baixo</h4>
                  <p>${itensBaixoEstoque.length} item(ns) com estoque abaixo do mínimo.</p>
              </div>`);
          }
          
          // Calcular produtos mais vendidos
          if (appData.vendas.length > 0) {
              const produtosVendidos = {};
              appData.vendas.forEach(venda => {
                  produtosVendidos[venda.produto] = (produtosVendidos[venda.produto] || 0) + venda.quantidade;
              });
              
              const produtosMaisVendidos = Object.entries(produtosVendidos)
                  .sort((a, b) => b[1] - a[1])
                  .slice(0, 3);
              
              if (produtosMaisVendidos.length > 0) {
                  analises.push(`<div class="p-2 bg-green-50 border-l-4 border-green-500 rounded">
                      <h4 class="font-medium">Produtos Mais Vendidos</h4>
                      <p>Seu produto mais popular é "${produtosMaisVendidos[0][0]}" com ${produtosMaisVendidos[0][1]} unidades vendidas.</p>
                  </div>`);
              }
          }
          
          // Verificar meta diária
          const hoje = new Date().toISOString().split('T')[0];
          const vendasHoje = appData.vendas.filter(venda => venda.data === hoje);
          const totalVendasHoje = vendasHoje.reduce((total, venda) => total + parseFloat(venda.valor), 0);
          const percentualMeta = (totalVendasHoje / appData.metaDiaria) * 100;
          
          if (percentualMeta < 50) {
              analises.push(`<div class="p-2 bg-yellow-50 border-l-4 border-yellow-500 rounded">
                  <h4 class="font-medium">Meta Diária</h4>
                  <p>Você atingiu apenas ${percentualMeta.toFixed(1)}% da sua meta diária. Considere promover seus produtos mais populares.</p>
              </div>`);
          } else if (percentualMeta >= 100) {
              analises.push(`<div class="p-2 bg-blue-50 border-l-4 border-blue-500 rounded">
                  <h4 class="font-medium">Meta Diária Alcançada!</h4>
                  <p>Parabéns! Você atingiu ${percentualMeta.toFixed(1)}% da sua meta diária.</p>
              </div>`);
          }
          
          // Adicionar sugestões gerais
          analises.push(`<div class="p-2 bg-purple-50 border-l-4 border-purple-500 rounded">
              <h4 class="font-medium">Sugestão de Marketing</h4>
              <p>Considere criar uma promoção para os produtos menos vendidos ou oferecer descontos para compras em quantidade.</p>
          </div>`);
          
          // Atualizar o conteúdo
          analisesSugestoesDiv.innerHTML = analises.join('');
      }

      // Inicialização adicional (simulada para exemplo)
      // Na prática, estas funções seriam implementadas completamente
      function verificarEstoqueVenda() {
          alert("Verificação de estoque simulada. Esta funcionalidade estaria completa na implementação final.");
      }
      
      function verificarEstoqueProducao() {
          alert("Verificação de estoque de produção simulada. Esta funcionalidade estaria completa na implementação final.");
      }
      
      function adicionarVarianteSabor() {
          alert("Adição de variante simulada. Esta funcionalidade estaria completa na implementação final.");
      }
      
      function adicionarIngrediente() {
          alert("Adição de ingrediente simulada. Esta funcionalidade estaria completa na implementação final.");
      }
      
      function cancelarEdicaoProduto() {
          alert("Cancelamento de edição simulado. Esta funcionalidade estaria completa na implementação final.");
      }
      
      function cancelarEdicaoFichaTecnica() {
          alert("Cancelamento de edição simulado. Esta funcionalidade estaria completa na implementação final.");
      }
      
      function cancelarEdicaoEstoque() {
          alert("Cancelamento de edição simulado. Esta funcionalidade estaria completa na implementação final.");
      }
      
      function cancelarEdicaoCliente() {
          alert("Cancelamento de edição simulado. Esta funcionalidade estaria completa na implementação final.");
      }
      
      function atualizarGraficoAvancado() {
          alert("Atualização de gráfico simulada. Esta funcionalidade estaria completa na implementação final.");
      }
      
      function exportarGrafico() {
          alert("Exportação de gráfico simulada. Esta funcionalidade estaria completa na implementação final.");
      }
    </script>
  </body>
</html>

